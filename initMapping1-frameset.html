<html>

<!-- default.htm -->

<head>
<title>American Legal Publishing - Online Library</title>
<meta http-equiv="content-type" content="text/html;charset=utf-8">


<script type="text/javascript" src="/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=templates$fn=tabs.js$3.0"></script>
<link rel="stylesheet" type="text/css" href="/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=stylesheets$fn=ALP_style.css$3.0" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

<script type="text/javascript">

//var isMac = navigator.userAgent.indexOf("Mac") != -1;
var synched = false;
var mainTabs;
var contentsTabs;
var contentsSelect = false;
var contentsSelectChanged = false;
var queryChanged = false;
var javaTocRepaintOnly = false;
var isframe = "exists";

//(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|samsung|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera);
//(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|silk|KFOT|KFTT|KFJWI|KFJWA|bada\/|blackberry|samsung|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera);
(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|iphone|ipod|ipad|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera);
var isMobile = {
    Android: function() {
        return navigator.userAgent.match(/Android/i);
    },
    BlackBerry: function() {
        return navigator.userAgent.match(/BlackBerry/i);
    },
    iOS: function() {
        return navigator.userAgent.match(/iPhone|iPad|iPod/i);
    },
    Opera: function() {
        return navigator.userAgent.match(/Opera Mini/i);
    },
    Windows: function() {
        return navigator.userAgent.match(/IEMobile/i);
    },
    any: function() {
        return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
    }
};
var loca = document.location.toString();

if(jQuery.browser.mobile || isMobile.any()){
	/*
	var loca = document.location.toString();
	var anc  = loca.match(/\$anc=.*$/g);
    loca = loca.replace(/\$anc=.* /g,"");
    if(anc == null){
		anc = "";
	}
	if(!(loca.match(/_m$/i))){		
		document.location = loca + "_m" + anc;
	}
	*/
	
	var ext = (loca.match(/\$vid=.*?([\$|#].*)/i))
	ext = (ext == null) ? "" : ext[1];
	loca = loca.replace(ext,"");
	loca += "_m" + ext;
	document.location = loca;
}


/*
if(jQuery.browser.mobile || isMobile.any()){
	if(!(loca.match(/_m$/i))){		
		document.location += "_m";
	}
}
*/

// Default options values.
//var optTocStartTabDefault = isMac ? "html" : "java";
var optTocStartTabDefault = "script";
var optTocHitCountsShowDefault = "none"; //"left";
var optTocHitCountsMaxDefault = 0;
var optTocHideZeroHitsDefault = false;
var optTocAutoSyncDefault = true; //false;

// Current options values.
var optTocStartTab = optTocStartTabDefault;
var optTocHitCountsShow = optTocHitCountsShowDefault;
var optTocHitCountsMax = optTocHitCountsMaxDefault;
var optTocHideZeroHits = optTocHideZeroHitsDefault;
var optTocAutoSync = optTocAutoSyncDefault;

// Actual settings used that change based on current tab, etc.
var tocHitCountsShow = optTocHitCountsShow;
var tocHitCountsMax = optTocHitCountsMax;
var tocHideZeroHits = optTocHideZeroHitsDefault;
var tocAutoSync = optTocAutoSyncDefault;

var TOC_VIEW_NORMAL	= 1;  // Includes search results if on in user options.
var TOC_VIEW_SELECT	= 2;  // Search forms, custom printing, etc. where user selects a domain.

var queryHash = "0";
var hitCount = "0";
var bQueryExists = false;


function initPage()
{

	// This works for IE4+ and NS6+
	var cookieEnabled = false;

	if (typeof navigator.cookieEnabled == "undefined")
	{
		cookieEnabled = (document.cookie != "") ? true : false;
	}
	else
	{
		cookieEnabled = navigator.cookieEnabled;
	}

	if (!cookieEnabled)
	{
		alert("Cookies are not enabled.\nPlease enable cookies for use with NXT.");
	}

	getOptions();

	var xhitlist_queryHash = "0";
	var xhitlist_hitCount = "0";

	// Covers browser refresh issues.
	queryHash = xhitlist_queryHash;
	hitCount = xhitlist_hitCount
	setQueryExists();

}


function getCookie(name)
{
	var cookie = "";
	var all_cookies = document.cookie;
	var label = name + "=";

	var offset = all_cookies.indexOf(label);
	if (offset != -1)
	{
		var start = offset + label.length;
		var end = all_cookies.indexOf(";", start);
		if (end == -1)
		{
			end = all_cookies.length;
		}

		cookie = all_cookies.substring(start, end);
	}

	cookie = unescape(cookie);
	return cookie;
}


// Options: Fixed positions, most 1 character.
// Version history: 13, "420zhlf99999z"
var optionsLength = 14;			// "422zhlf99999zf"
var optionsVersion = "422z";	// z is an arbitrary number delimiter

function getOptions()
{
	var optionsCookie = getCookie("nxtopts");
	var length = optionsLength;
	var upgradeFixCookie = false;

	if (optionsCookie == null || optionsCookie.length != optionsLength)
	{
		if (optionsCookie.length != length)
		{


			// If no cookie has been explicitly set, just return and use the defaults.
			// DON'T set a cookie just to hold the defaults, as some users may purposely
			// avoid setting cookies.  Otherwise, upgrade or fix the cookie.
			if (0 < optionsCookie.length)
			{
				upgradeFixCookie = true;
			}
		}
	}

	// Reading based on length allows for future additions.
	for (i=0; i<optionsCookie.length; i++)
	{
		var value = optionsCookie.charAt(i);

		if (i == 0)
		{
			value = optionsCookie.substr(i,3);
			if ('z' != optionsCookie.charAt(i + 3))
			{
			}
			i += 3;
		}
		else if (i == 4)
		{
			optTocStartTab = "script";
			// Uncomment out following to enable HTML TOC
			//if (value == 'h') optTocStartTab = "html";
			// Uncomment out following to enable Java TOC
			//if (value == 'j') optTocStartTab = "java";
		}
		else if (i == 5)
		{
			optTocHitCountsShow = "none";
			if (value == 'l') optTocHitCountsShow = "left";
			if (value == 'r') optTocHitCountsShow = "right";
			tocHitCountsShow = optTocHitCountsShow;
		}
		else if (i == 6)
		{
			optTocHideZeroHits = false;
			if (value == 't') optTocHideZeroHits = true;
			tocHideZeroHits = optTocHideZeroHits;
		}
		else if (i == 7)
		{
			// Uncomment to allow user to change max.  Length 3 = 999 max, 4 = 9999 max, 5 = 99,999 max.
			// tocHitCountsMax = optTocHitCountsMax = parseInt(optionsCookie.substr(i,3));
			if ('z' != optionsCookie.charAt(i + 5))
			{
			}
			i += 5;
		}
		else if (i == 13)
		{
			optTocAutoSync = false;
			if (value == 't') optTocAutoSync = true;
			tocAutoSync = optTocAutoSync;
		}
	}

	if (upgradeFixCookie)
	{
		setOptions();
	}
}


function setOptions()
{

	var options = "";
	var value;
	var length = optionsLength;

	for (i=0; i<length; i++)
	{
		if (i == 0)
		{
			value = optionsVersion;
			i += 3;
		}
		else if (i == 4)
		{
			value = '2';
			if ("java" == optTocStartTab) value = 'j';
			if ("html" == optTocStartTab) value = 'h';
		}
		else if (i == 5)
		{
			value = 'n';
			if ("left"  == optTocHitCountsShow) value = 'l';
			if ("right" == optTocHitCountsShow) value = 'r';
		}
		else if (i == 6)
		{
			value = 'f';
			if (optTocHideZeroHits) value = 't';
		}
		else if (i == 7)
		{
			var temp = "" + optTocHitCountsMax + "zzzzz";
			value = temp.substr(0,5) + "z";
			i += 5;
		}
		else if (i == 13)
		{
			value = 'f';
			if (optTocAutoSync) value = 't';
		}

		options += value;
	}

	// Write out the cookie.
	var expires = new Date();
	expires.setFullYear(expires.getFullYear() + 10);
	var ev = "; expires=" + expires.toUTCString();

	var optionsCookie = "nxtopts=" + options + ev;
	document.cookie = optionsCookie;
}


function initializeTabs()
{
	if (mainTabs != null)
	{
		return;
	}

	// Localization: These tab names ("document", "results", etc.) do NOT need to be
	// localized here or any place they are referenced elsewhere.
	mainTabs = new TabGroup(frames["banner"].document);
	mainTabs.addTab("document", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-document-on.gif$3.0", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-document-off.gif$3.0");
	mainTabs.addTab("results", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-results-on.gif$3.0", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-results-off.gif$3.0");
	mainTabs.addTab("document-results", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-docresults-on.gif$3.0", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-docresults-off.gif$3.0");
	mainTabs.addTab("searchform", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-searchform-on.gif$3.0", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-searchform-off.gif$3.0");
	mainTabs.addTab("options", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-options-on.gif$3.0", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-options-off.gif$3.0");
	mainTabs.firstActiveTabIs("document");

	contentsTabs = new TabGroup(frames["banner"].document);
	contentsTabs.addTab("script", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-toc-on.gif$3.0", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-toc-off.gif$3.0");
	// Uncomment out following to add HTML toc
	contentsTabs.addTab("html", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-html-on.gif$3.0", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-html-off.gif$3.0");
	// Uncomment out following to add JAVA toc
	//contentsTabs.addTab("java", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-java-on.gif$3.0", "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=images$fn=tab-java-off.gif$3.0");
	contentsTabs.firstActiveTabIs("script");
}


function resetDocumentObject(document_object)
{
	if (mainTabs == null)
	{
		initializeTabs();
	}

	mainTabs.reset(document_object);
	contentsTabs.reset(document_object);
}


function setMainTab(tab_name)
{
	if (mainTabs == null)
	{
		initializeTabs();
	}

	// Switch tab first, so user sees the switch as soon as possible for context of other visual changes.
	mainTabs.setCurrentTab(tab_name);
	if ("searchform" != tab_name)
	{
		// Clear contentsSelect if we are leaving a search form.
		setContentsSelectMode(false);
	}
	setTocView(false == contentsSelect ? TOC_VIEW_NORMAL : TOC_VIEW_SELECT);
}


function getMainTab()
{
	if (mainTabs == null)
	{
		initializeTabs();
	}

	var tab = mainTabs.getCurrentTab();
	return tab;
}


function setContentsTab(tab_name)
{
	if (mainTabs == null)
	{
		initializeTabs();
	}

	contentsTabs.setCurrentTab(tab_name);

	var switchingTabs = optTocStartTab != tab_name;
	optTocStartTab = tab_name;
	if (switchingTabs)
	{
		// This call must be AFTER the optTocStartTab value is switched.
		setOptions();
	}
}


function getContentsTab()
{
	if (mainTabs == null)
	{
		initializeTabs();
	}

	return contentsTabs.getCurrentTab();
}

function getBannerWindow()
{
	var banner_window = self.frames["banner"];
	return banner_window;
}

function getContentsWindow()
{
	var toc_window = self.frames["contents"];
	return toc_window;
}

// Gets the frame where the documents, results, and options pages are shown.
function getMainWindow()
{
	var main_window = self.frames["main"];
	return main_window;
}

function getJTocApplet()
{
	var toc_window = getContentsWindow();
	var jtocApplet = null;
	if (toc_window != null)  {
		jtocApplet = toc_window.document.JTOC;
	}
	return jtocApplet;
}


function getJsToc()
{
	var toc_window = getContentsWindow();
	var jstoc = null;
	if (toc_window != null)  
	{
		jstoc = toc_window.jstoc;
	}
	return jstoc;
}


function setQueryInfo(queryHashNew, hitCountNew)
{
	if (queryHash != queryHashNew || hitCount != hitCountNew)
	{
		queryHash = queryHashNew;
		hitCount = hitCountNew;
		queryChanged = true;
		setQueryExists();
	}
}

function setQueryExists()
{
	bQueryExists = ("0" != queryHash && "0" != hitCount);
	
	// Only have to set query exists for JSToc or JToc.  HTML toc handles on component side.
	var jtocApplet = getJTocApplet();
	if (jtocApplet != null)
	{
		jtocApplet.setQueryExists(bQueryExists);
	}
	var jstoc = getJsToc();
	if (jstoc != null)
	{
		jstoc.setSearchActive(bQueryExists);
	}
}

function refreshTocHTML()
{

	var w = getContentsWindow();
	
	var sbase;
	if (contentsSelect)
	{
		sbase = "?f=templates&fn=contents-frame-h.htm&tf=_self&tt=contents-frame-h.htm&t=contents-frame-h.htm&sel=1";
	}
	else
	{
		sbase = "?f=templates&fn=contents-frame-h.htm&tf=main&tt=document-frameset.htm&t=contents-frame-h.htm&sel=0"
	}
	var hc = ("left" == tocHitCountsShow) ? "&shc=1" :
				("right" == tocHitCountsShow) ? "&shc=2" : "&shc=0";
	var hcm = "&hcm=" + tocHitCountsMax;
	var hz = tocHideZeroHits ? "&hzh=1" : "&hzh=0";

	var search = sbase + hc + hcm + hz;
	w.location.search = search;
}


function refreshTocJava()
{

	var jtocApplet = getJTocApplet();
	if (jtocApplet != null)
	{
		javaTocRepaintOnly = (javaTocRepaintOnly &&
									("none" == tocHitCountsShow || jtocApplet.dataContainsHitNumbers()) );

		jtocApplet.setHitCountsShow(tocHitCountsShow);
		jtocApplet.setHitCountsMax(tocHitCountsMax);
		jtocApplet.setHideZeroHits(tocHideZeroHits);
		jtocApplet.setShowCheckBoxes(contentsSelect, false);
		
		if (!javaTocRepaintOnly)
		{
			jtocApplet.reloadTOC();
		}
		else
		{
			jtocApplet.repaintTOC();
		}
	}
}


function refreshTocScript()
{
	var jstoc = getJsToc();
	if (jstoc != null)
	{
		jstoc.setShowCheckBoxes(contentsSelect ? 1 : 0);
		jstoc.setShowHits("none" == tocHitCountsShow ? 0 : 1); 
		jstoc.setShowHitCount("none" == tocHitCountsShow ? 0 : 1);
		jstoc.setHideZeroHits(tocHideZeroHits ? 1 : 0);
		jstoc.setSearchActive(bQueryExists ? 1 : 0);
		jstoc.reloadTOC();
	}
}


function refreshToc()
{
	if ("java" == optTocStartTab)
	{
		refreshTocJava();
	}
	else if ("html" == optTocStartTab)
	{
		refreshTocHTML();
	}
	else if ("script" == optTocStartTab)
	{
		refreshTocScript();
	}
}


// Toggles hit counts, hide zero hits on/off based on main tab context (want full TOC for search form tab).
function setTocView(tocView)
{
	var tocHitCountsShowPrev = tocHitCountsShow;
	var tocHitCountsMaxPrev = tocHitCountsMax;
	var tocHideZeroHitsPrev = tocHideZeroHits;
	
	tocHitCountsMax = optTocHitCountsMax;  // Same regardless of view -- won't be used if show is "none".
	if (tocView == TOC_VIEW_NORMAL)
	{
		tocHitCountsShow = optTocHitCountsShow;
		tocHideZeroHits = optTocHideZeroHits;
	}
	else
	{
		// Show full TOC so user can select documents.
		tocHitCountsShow = "none";
		tocHideZeroHits = false;
	}
	
	var tocHitParamsChanged = (tocHitCountsShowPrev != tocHitCountsShow) ||
							  (tocHitCountsMaxPrev != tocHitCountsMax) ||
							  (tocHideZeroHitsPrev != tocHideZeroHits);
	var refreshTocAfterSearch = ("none" != optTocHitCountsShow || optTocHideZeroHits);
	javaTocRepaintOnly = !( (refreshTocAfterSearch && queryChanged) ||
									(tocHideZeroHitsPrev != tocHideZeroHits) );


	if (contentsSelectChanged || tocHitParamsChanged || (refreshTocAfterSearch && queryChanged))
	{
		refreshToc();
	}
	contentsSelectChanged = false;
	queryChanged = false;
	javaTocRepaintOnly = false;
}


function setContentsSelectMode(shouldSelect)
{
	if (contentsSelect != shouldSelect)
	{
		contentsSelect = shouldSelect;
		contentsSelectChanged = true;
	}
}


function getContentsSelectMode()
{
	return contentsSelect;
}


function fixNetscapeResize()
{
	// Resizing Netscape causes all kinds of nasty things to happen, especially
	// forgetting all the defined javascript functions, so we'll force it to reload
	// fresh anytime a resize happens. Not pretty, but better than the alternative.
	if (navigator.appName.indexOf("Netscape") != -1)
	{
		// Using location.reload() crashes Netscape, so we'll use the history instead.
		//-history.go(0);
	}
}




function mcc_TrimStringAfter(myString, myLastFoundChar, myName) {

	var baseLocation = (document.getElementsByTagName ('BASE')[1] && document.getElementsByTagName( 'BASE')[1].href) || location.href
	myString = baseLocation

	var myRTN = "";
	var myLastIndex = -1;
	
	myLastIndex = myString.lastIndexOf(myLastFoundChar);	
		
	if(myLastIndex >= 0)	{
		myRTN = myString.substring(0, myLastIndex);
	} else {	
		myRTN = myString;	
	}
		
	if(myName == "")	{
		showMessage(myRTN)
	} else {
		showMessage(myRTN+'#'+myName)
	}
	
}

</script>

</head>
<script type="text/javascript">
var spath = document.location.toString();//.indexOf(/%E2%80%9C/));
if(spath.indexOf("%E2%80%9C") != -1){
	spath = spath.replace("%E2%80%9C","");
	spath = spath.replace("%E2%80%9D", "");
	document.location = spath;
	document.reload;
}

initPage();

// WARNING: Entire string must remain for NXT to do replacement prior to JavaScript execution.
var tocSrc			= "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=templates$fn=contents-frame-js.htm$3.0";
var tocSrcParam	= "contents-frame-js.htm";

if ("java" == optTocStartTab)
{
	tocSrc		= "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=templates$fn=contents-frame-j.htm$3.0";  // Keep entire string intact.
	tocSrcParam	= "contents-frame-j.htm";
}
else if ("html" == optTocStartTab)
{
	tocSrc		= "/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=templates$fn=contents-frame-h.htm$3.0";  // Keep entire string intact.
	tocSrcParam	= "contents-frame-h.htm";
}

var hash = "";
if (hash != "")
{
	hash = "#" + hash;
}

// tocSplitterBar: show or hide splitter bar.  If it is hidden, the user can still resize
// the TOC frame, but it is less obvious - no mouse over cursor change to a double arrow.
//   Width: Controlled by frameSpacing attribute.
//   Color: Controlled by bordercolor attribute.  Sample colors to use:
//     banner background: #18284a (blue), document background: #ffffff (white),
//     TOC background: #c1c1b8 (gray)
var tocSplitterBarShow  = 'border="1" bordercolor="#43507F" frameSpacing="1" frameBorder="1" ';
var tocSplitterBarHide = "";
var tocSplitterBar = tocSplitterBarShow;

var page = "";
page += '<frameset rows="85,*" onresize="fixNetscapeResize()">';
page += '	<frame name="banner" src="/nxt/gateway.dll?f=userinfo&userinfo_xsl=banner.xsl&userinfo_cat=saved-search&isclient=&global=hitdoc_g_&hitdoc_g_dt=document-frameset.htm" scrolling="no" noresize="noresize" marginwidth="0" marginheight="0" frameborder="0" title="Quick search and drop downs for search forms, tools and links">';
page += '	<frameset cols="295,*" border="5">';
page += '		<frame name="contents" src="' + tocSrc + '&cp=/New%20York/charter/newyorkcitycharter&sel=0&tf=main&tt=document-frameset.htm&t=' + tocSrcParam + '&och=onClick&global=hitdoc_g_&hitdoc_g_dt=document-frameset.htm" frameborder="1" title="Table of Contents">';
page += '		<frame name="main" src="/nxt/gateway.dll/New%20York/charter/newyorkcitycharter?f=templates$fn=document-frameset.htm$3.0&cp=/New%20York/charter/newyorkcitycharter&global=hitdoc_g_&hitdoc_g_dt=document-frameset.htm&sync=' + hash + '" title="Document frameset">';
page += '	</frameset>';

document.write(page);
</script>

	<noframes>
		<body>

		<p>This site requires a frames-capable browser.</p>

		</body>
	</noframes>
</frameset>

</html>
